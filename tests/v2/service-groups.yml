
version: '2'

service-groups:

  - name: foobar-group_01
    auto_remove: True
    restart_policy: on-failure
    priority: 20
    depends-on: {name: plop, port: 123}
    devices:
      - /dev/urandom:/dev/uurandom
    mem_limit: 256m
    read_only: True
    connect:
      - test
    service-groups:
      - foobar-group_02
    services:
      - foo
      - bar_
      - foo_
      - bar

  - name: foobar-group_02
    devices:
      - '/dev/null:/dev/nulll'
    mem_limit: 512m
    read_only: False
    services:
      - foobar
      - foobar_